function p(i,e){i.classList.toggle(e)}function c(){return document.documentElement.getAttribute("data-theme")==="dark"}const w="https://astro-cactus.chriswilliams.dev/";new URL(w).hostname;class E extends HTMLElement{headerEl;menuOpen;mobileButtonEl;toggleMobileMenu=()=>{p(this.headerEl,"menu-open"),this.menuOpen=!this.menuOpen,this.mobileButtonEl.setAttribute("aria-expanded",this.menuOpen.toString())};constructor(){super(),this.headerEl=document.getElementById("main-header"),this.mobileButtonEl=this.querySelector("button"),this.menuOpen=!1,this.mobileButtonEl.addEventListener("click",this.toggleMobileMenu)}}customElements.define("mobile-button",E);const b="modulepreload",f=function(i){return"/"+i},u={},k=function(e,t,r){let d=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),s=l?.nonce||l?.getAttribute("nonce");d=Promise.all(t.map(n=>{if(n=f(n),n in u)return;u[n]=!0;const a=n.endsWith(".css"),h=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${h}`))return;const o=document.createElement("link");if(o.rel=a?"stylesheet":b,a||(o.as="script",o.crossOrigin=""),o.href=n,s&&o.setAttribute("nonce",s),document.head.appendChild(o),a)return new Promise((m,g)=>{o.addEventListener("load",m),o.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${n}`)))})}))}return d.then(()=>e()).catch(l=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=l,window.dispatchEvent(s),!s.defaultPrevented)throw l})};class y extends HTMLElement{closeBtn;dialog;dialogFrame;openBtn;closeModal=()=>{this.dialog.open&&(this.dialog.close(),window.removeEventListener("click",this.onWindowClick))};onWindowClick=e=>{("href"in(e.target||{})||document.body.contains(e.target)&&!this.dialogFrame.contains(e.target))&&this.closeModal()};onWindowKeydown=e=>{e.key==="/"&&!this.dialog.open&&(this.openModal(),e.preventDefault())};openModal=e=>{this.dialog.showModal(),this.querySelector("input")?.focus(),e?.stopPropagation(),window.addEventListener("click",this.onWindowClick)};constructor(){super(),this.openBtn=this.querySelector("button[data-open-modal]"),this.closeBtn=this.querySelector("button[data-close-modal]"),this.dialog=this.querySelector("dialog"),this.dialogFrame=this.querySelector(".dialog-frame"),this.openBtn.addEventListener("click",this.openModal),this.openBtn.disabled=!1,this.closeBtn.addEventListener("click",this.closeModal)}connectedCallback(){window.addEventListener("keydown",this.onWindowKeydown),(window.requestIdleCallback||(t=>setTimeout(t,1)))(async()=>{const{PagefindUI:t}=await k(async()=>{const{PagefindUI:r}=await import("./ui-core.a7foaKbN.js");return{PagefindUI:r}},[]);new t({baseUrl:"/",bundlePath:"/".replace(/\/$/,"")+"/pagefind/",element:"#cactus__search",showImages:!1,showSubResults:!0})})}disconnectedCallback(){window.removeEventListener("keydown",this.onWindowKeydown)}}customElements.define("site-search",y);class v extends HTMLElement{#e;connectedCallback(){const e=this.querySelector("button");e.setAttribute("role","switch"),e.setAttribute("aria-checked",String(c()));const{signal:t}=this.#e=new AbortController;e.addEventListener("click",()=>{let r=new CustomEvent("theme-change",{detail:{theme:c()?"light":"dark"}});document.dispatchEvent(r),e.setAttribute("aria-checked",String(c()))},{signal:t})}disconnectedCallback(){this.#e?.abort()}}customElements.define("theme-toggle",v);export{k as _};
